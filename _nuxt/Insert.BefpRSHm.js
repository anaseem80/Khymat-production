import{u as E}from"./Address.n_7HvfLv.js";import{a as y,A as N,C as x,J as _,O as m,P as e,N as a,M as f,a6 as c,a4 as r,u as i,T as k,a3 as h,Q as w,R as S,q as C,U as F,L as I}from"./swiper-vue.wzlkmWEf.js";import{c as B,a as u}from"./index.esm.LHZP6y6i.js";import{f as M}from"./entry.MSgrMHrp.js";const L={class:"grid lg:grid-cols-1 gap-8 mt-8"},O={class:"rounded-lg"},P={class:"flex lg:flex-row flex-col lg:p-4 gap-8"},R={class:"grid lg:grid-cols-2 gap-4"},D={class:"form-group"},G=e("label",{for:"name",class:"text-lg block"},"First name",-1),U={class:"invalid-feedback"},j={class:"form-group"},H=e("label",{for:"last_name",class:"text-lg block"},"Last Name",-1),J={class:"invalid-feedback"},Q={class:"form-group lg:col-span-2"},Z=e("label",{for:"address_1",class:"text-lg block"},"Address",-1),$={class:"invalid-feedback"},K={class:"form-group"},W=e("label",{for:"email",class:"text-lg block"},"Email",-1),X={class:"invalid-feedback"},Y={class:"form-group"},ee=e("label",{for:"phone",class:"text-lg block"},"Phone",-1),te={class:"invalid-feedback"},se={class:"grid xl:grid-cols-4 lg:col-span-2 gap-4"},oe={class:"form-group"},ae=e("label",{for:"country",class:"text-lg block"},"Country",-1),le=e("option",{value:"",disabled:""},"إختر الدولة",-1),ie=e("option",{value:"مصر",selected:""},"مصر",-1),ne={class:"invalid-feedback"},de={class:"form-group relative"},re={key:0,class:"w-full h-full absolute top-4 grid place-content-center right-0 text-xl"},ce=e("label",{for:"city",class:"text-lg block"},"City",-1),ue={value:"",selected:"",disabled:""},_e=["value"],me={class:"invalid-feedback"},pe={class:"form-group relative"},fe={key:0,class:"w-full h-full absolute top-4 grid place-content-center right-0 text-xl"},ge=e("label",{for:"state",class:"text-lg block"},"State",-1),ve=["selected"],he=["value","data-id","selected"],be={class:"invalid-feedback"},ye={class:"form-group"},xe=e("label",{for:"zip",class:"text-lg block"},"Zip code",-1),ke={class:"invalid-feedback"},we=["disabled"],Se={class:"translate-y-[-2px]"},Ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"arrow w-5 h-5 ml-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})],-1),Ee={__name:"Insert",setup(qe){const q=B().shape({name:u().required("الاسم الأول مطلوب"),last_name:u().required("الاسم الأخير مطلوب"),email:u().required("البريد الإلكتروني مطلوب").email("البريد الإلكتروني غير صالح"),phone:u().required("رقم الهاتف مطلوب"),country:u().required("الدولة مطلوبة"),city:u().required("المدينة مطلوبة"),state:u().required("الولاية مطلوبة"),zip:u().required("الرمز البريدي مطلوب"),address_1:u().required("العنوان بالتفصيل مطلوب")}),o=E();let p=y(null),g=y(null);N(()=>{const l=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n):alert("Geolocation is not supported by this browser.")},n=d=>{o.latitude=d.coords.latitude,o.longitude=d.coords.longitude};l()});const V=async l=>{l.latitude=o.latitude.toString(),l.longitude=o.longitude.toString(),l.zip=l.zip.toString(),o.STORE_ADDRESS(l)},z=l=>{p=null,o.GET_STATES(l)},T=l=>{l.value,g=l.options[l.selectedIndex].dataset.id};return(l,n)=>{const d=x("Field"),v=M,A=x("Form");return _(),m("div",L,[e("div",O,[e("div",P,[a(A,{class:"w-full",onSubmit:V,"validation-schema":i(q)},{default:f(({errors:t})=>[e("div",R,[e("div",D,[G,a(d,{type:"text",dir:"rtl",id:"name",name:"name",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.name}])},null,8,["class"]),e("div",U,r(t.name),1)]),e("div",j,[H,a(d,{type:"text",dir:"rtl",id:"last_name",name:"last_name",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.last_name}])},null,8,["class"]),e("div",J,r(t.last_name),1)]),e("div",Q,[Z,a(d,{as:"textarea",dir:"rtl",id:"address_1",name:"address_1",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.address_1}])},null,8,["class"]),e("div",$,r(t.address_1),1)]),e("div",K,[W,a(d,{type:"email",dir:"rtl",id:"email",name:"email",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.email}])},null,8,["class"]),e("div",X,r(t.email),1)]),e("div",Y,[ee,a(d,{type:"tel",dir:"rtl",id:"phone",name:"phone",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.phone}])},null,8,["class"]),e("div",te,r(t.phone),1)]),e("div",se,[e("div",oe,[ae,a(d,{as:"select",dir:"rtl",id:"country",name:"country",onChange:n[0]||(n[0]=s=>i(o).GET_CITIES()),class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.country}])},{default:f(()=>[le,ie]),_:2},1032,["class"]),e("div",ne,r(t.country),1)]),e("div",de,[a(k,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-100","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:f(()=>[i(o).loading_city?(_(),m("div",re,[a(v,{class:"text-primary drop-shadow-lg"})])):h("",!0)]),_:1}),ce,a(d,{as:"select",dir:"rtl",id:"city",name:"city",onChange:n[1]||(n[1]=s=>z(s.target.value)),class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.city}])},{default:f(()=>[e("option",ue,r(i(o).cities.length==0?"إختر الدولة أولا":"إختر المحافظة"),1),(_(!0),m(w,null,S(i(o).cities,s=>(_(),m("option",{value:s._id,selected:""},r(s.nameAr),9,_e))),256))]),_:2},1032,["class"]),e("div",me,r(t.city),1)]),e("div",pe,[a(k,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-100","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:f(()=>[i(o).loading_states?(_(),m("div",fe,[a(v,{class:"text-primary drop-shadow-lg"})])):h("",!0)]),_:1}),ge,a(d,{as:"select",dir:"rtl",id:"state",name:"state",onChange:n[2]||(n[2]=s=>T(s.target)),modelValue:i(p),"onUpdate:modelValue":n[3]||(n[3]=s=>C(p)?p.value=s:p=s),class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.state}])},{default:f(()=>[e("option",{value:"",selected:i(o).states.length==0},r(i(o).states.length==0?"إختر المدينة أولا":"إختر الولاية"),9,ve),(_(!0),m(w,null,S(i(o).states,(s,b)=>(_(),m("option",{value:s.districtOtherName,key:b,"data-id":s.districtId,selected:b===0&&!i(p)},r(s.districtOtherName),9,he))),128))]),_:2},1032,["modelValue","class"]),e("div",be,r(t.state),1),a(d,{dir:"rtl",id:"district",name:"district",type:"hidden",modelValue:i(g),"onUpdate:modelValue":n[4]||(n[4]=s=>C(g)?g.value=s:g=s)},null,8,["modelValue"])]),e("div",ye,[xe,a(d,{type:"number",dir:"rtl",id:"zip",name:"zip",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":t.zip}])},null,8,["class"]),e("div",ke,r(t.zip),1)])])]),e("button",{disabled:i(o).loading_store_address,class:"btn mt-6 w-full"},[e("span",Se,[F("Save Changes "),i(o).loading_store_address?(_(),I(v,{key:0,class:"text-white drop-shadow-lg mr-3"})):h("",!0)]),Ce],8,we)]),_:1},8,["validation-schema"])])])])}}};export{Ee as default};
