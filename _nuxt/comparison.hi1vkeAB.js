import{v as c,b as l,w as o,B as i,x as n,D as t}from"./entry.3WBB32f8.js";const h=c({id:"myComparisonStore",state:()=>({comparison:[],loading:!1,loading_remove:!1,loading_add:!1}),actions:{async ADD_PRODUCT_TO_COMPARISON(a){const s=l();this.loading_add=!0,o.post(i+`/comparison/add/${a.id}`,null,{headers:{Authorization:"Bearer "+n("token").value}}).then(e=>{if(e.data.status_code===200){if(this.comparison.find(r=>r.product_id==a.id))return;s.cart.cart_items.push(a),this.loading_add=!1,t.success(e.data.message+" ðŸ¥³")}}).catch(e=>{e&&t.error(e.response.data.message),this.loading_add=!1})},async GET_COMPARISON_DATA(){this.loading=!0,await o.get(i+"/comparison/index",{headers:{Authorization:"Bearer "+n("token").value}}).then(a=>{console.log(a),a.data.data&&(this.loading=!1,this.comparison=a.data.data)}).catch(a=>{this.loading=!1})},async DELETE_FROM_COMPARISON(a){this.loading_remove=!0,o.delete(i+`/comparison/remove/${a}`,{headers:{Authorization:"Bearer "+n("token").value}}).then(s=>{if(s.data.status_code==200){const e=this.comparison.findIndex(d=>d.id===a);e>-1?(this.comparison.splice(e,1),t.success(s.data.message)):t.info("Item not found"),this.loading_remove=!1}}).catch(s=>{t.error(s.response.data.message),this.loading_remove=!1})}}});export{h as u};
