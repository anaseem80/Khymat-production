import{_ as A}from"./Breadcrumb.vue.Y0l8KUWK.js";import{_ as F}from"./Tabs.vue.Eh_ecUUV.js";import{B as I,C as S,D as z,f as w,n as P,a as B,u as L,e as M,g as N,F as G}from"./entry.rn6gmTy6.js";import{a as R,E as V,Q as a,a4 as o,J as p,a3 as t,a5 as l,u as i,I as h,a6 as v,ad as q,a7 as C,U as O,O as j,a2 as J}from"./swiper-vue.2KqUgGr4.js";import"./breadcrumb.vue.nnFYOF8U.js";const U=I({id:"myOrdersStore",state:()=>({orders:[],filtered_orderd:[],order:[],loading_orders:!1,loading_order:!1}),actions:{async GET_ORDERS(){this.loading_orders=!0,await S.get(z+"/orders",{headers:{Authorization:"Bearer "+w("token").value}}).then(n=>{n.data.status_code==200&&(this.loading_orders=!1,this.orders=n.data.orders,this.filtered_orderd=n.data.orders)}).catch(n=>{this.loading_orders=!1})},async GET_ORDER_BY_ID(n){this.loading_order=!0,await S.get(z+`/orders/detalis/${n}`,{headers:{Authorization:"Bearer "+w("token").value}}).then(s=>{s.data.status_code==200&&(this.loading_order=!1,this.order=s.data.order)}).catch(s=>{this.loading_order=!1,s.response.data&&P("/error")})},async FILTER_ORDERS(n){if(this.orders!==null&&n!="all"){const s=this.orders.filter(g=>g.status===n);this.filtered_orderd=s}else this.filtered_orderd=this.orders}}}),W=["dir"],X={class:"w-full"},H={class:"text-zinc-900 text-xl font-semibold leading-[30px] mb-3"},K={class:"relative overflow-x-scroll md:overflow-visible"},Q={class:"flex justify-start gap-5 border-b border-gray-100 mt-6 w-[700px] md:w-full"},Y=["onClick"],Z={key:0,class:"mt-8 flex flex-col gap-8"},tt={class:"flex justify-between mb-8"},et={class:"text-zinc-600 text-xl font-semibold leading-[30px]"},st={class:"text-zinc-900 text-xl font-semibold leading-[30px]"},at={class:"h-8 px-4 py-1.5 bg-neutral-100 rounded-[20px] justify-center items-center gap-2.5 inline-flex"},ot={class:"text-zinc-900 text-sm font-medium font-['Plus Jakarta Sans'] leading-tight"},it={class:"w-full justify-between items-center inline-flex flex-wrap gap-6"},lt={class:"flex-col justify-start items-start gap-2 inline-flex"},nt={class:"justify-start items-start gap-3 flex flex-col md:flex-row"},rt={class:"flex gap-4"},dt=["src"],ct={class:"flex-col justify-between items-start inline-flex"},_t={class:"h-[50px] flex-col justify-start items-start gap-[5px] flex"},ut={class:"text-zinc-900 text-base font-semibold leading-normal"},ft=t("div",{class:"self-stretch justify-start items-center gap-[55px] inline-flex"},null,-1),mt={class:"justify-start items-center gap-9 flex"},xt={class:"px-4 py-2 rounded-[10px] border border-gray-200 justify-start items-center gap-1 flex"},pt={class:"text-center text-zinc-900 text-base font-semibold leading-snug"},ht=t("div",{class:"w-5 h-5 justify-center items-center flex"}," x ",-1),gt={class:"text-zinc-900 text-base font-semibold leading-normal"},vt={class:"text-zinc-900 text-base font-semibold leading-normal"},yt={key:0,class:"col-12 text-center m-auto"},bt={class:"text-xl mb-4"},kt={key:1},Bt={__name:"orders",setup(n){const s=U(),{locale:g}=B(),D=L(),{t:r}=B(),T=M();s.GET_ORDERS();const y=[{title:r("All"),key:"all"},{title:r("Waiting Payment"),key:"pending"},{title:r("Processing Payment"),key:"processing"},{title:r("in delivery"),key:"delivering"},{title:r("Complete Order"),key:"completed"},{title:r("Cancel"),key:"cancelled"},{title:r("Refund"),key:"refunded"}],m=R(0),b=R(0),k=R(0),$=(_,d)=>{const c=document.querySelectorAll(".tab-item")[d];if(c){const u=c.getBoundingClientRect(),e=c.parentElement.getBoundingClientRect(),f=u.left-e.left;b.value=f,m.value=_,k.value=u.width,s.FILTER_ORDERS(y[d].key)}};return V(()=>{w("token").value||P(D("/login"));const d=document.querySelectorAll(".tab-item")[0];if(d){const x=d.getBoundingClientRect(),c=d.parentElement.getBoundingClientRect(),u=x.left-c.left;b.value=u,m.value=y[0].title,k.value=x.width}}),N({title:g.value=="ar"?"خيمات زمان - الطلبات":"Khymat - Orders"}),(_,d)=>{const x=A,c=F,u=G;return a(),o(h,null,[p(x),t("div",{class:"px-6 lg:px-[133px] py-16 flex flex-col md:flex-row gap-8",dir:i(g)=="ar"?"rtl":"ltr"},[p(c),t("div",X,[t("h4",H,l(i(r)("Order List")),1),t("div",K,[t("ul",Q,[(a(),o(h,null,v(y,(e,f)=>t("li",{class:J(["text-sm font-bold leading-[21px] inline-block pb-3 cursor-pointer tab-item transition-all",{"text-primary opacity-100":i(m)==e.title,"text-zinc-600 opacity-25":i(m)!=e.title}]),onClick:E=>$(e.title,f)},l(e.title),11,Y)),64))]),i(m)!==null?(a(),o("div",{key:0,class:"border-b border-primary absolute -bottom-0 transition-all ease-in-out",style:q({left:`${i(b)}px`,width:`${i(k)}px`})},null,4)):C("",!0)]),p(j,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-100","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:O(()=>[i(s).loading_orders?(a(),o("p",kt,[p(u,{class:"progress mt-4",active:"",block:""})])):(a(),o("div",Z,[(a(!0),o(h,null,v(i(s).filtered_orderd,e=>(a(),o("div",null,[t("div",tt,[t("div",null,[t("span",et,l(i(r)("Order ID"))+" : ",1),t("span",st," #"+l(e.id),1)]),t("div",null,[t("div",at,[t("div",ot,l(_.$t(e.status)),1)])])]),t("div",it,[t("div",lt,[t("div",nt,[t("div",rt,[(a(!0),o(h,null,v(e.images_product,(f,E)=>(a(),o("div",null,[t("img",{class:"h-[150px] rounded-lg",src:i(T).route+e.images_product[E]},null,8,dt)]))),256))]),t("div",ct,[t("div",_t,[t("div",ut,[(a(!0),o(h,null,v(e.names_product,(f,E)=>(a(),o("div",null,[t("p",null,l(f),1)]))),256))])]),ft])])]),t("div",mt,[t("div",xt,[t("div",pt,l(e.product_count),1),ht,t("div",gt,l(e.total.toFixed(2)),1)]),t("div",vt,l(e.total.toFixed(2))+" "+l(_.$t("AED")),1)])])]))),256)),p(j,{name:"fade",mode:"out-in"},{default:O(()=>[t("div",null,[i(s).filtered_orderd.length==0?(a(),o("div",yt,[t("h4",bt,l(_.$t("No orders here")),1)])):C("",!0)])]),_:1})]))]),_:1})])],8,W)],64)}}};export{Bt as default};
