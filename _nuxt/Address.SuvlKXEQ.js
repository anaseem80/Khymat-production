import{v as n,w as e,ak as r,B as d,x as i,D as t}from"./entry.3WBB32f8.js";const _=n({id:"myAddressStore",state:()=>({cities:[],states:[],loading_city:null,loading_states:null,loading_store_address:null,loading_destory_address:null,loading_get_addressess:null,addresses:[],latitude:null,longitude:null}),actions:{async GET_CITIES(){this.loading_city=!0,await e.get(r+"/cities?countryId=60e4482c7cb7d4bc4849c4d5").then(s=>{s.data.success==!0&&(this.loading_city=!1,this.cities=s.data.data.list)}).catch(s=>{this.loading_city=!1})},async GET_STATES(s){this.loading_states=!0,await e.get(r+`/cities/${s}/districts`).then(a=>{a.data.success==!0&&(this.loading_states=!1,this.states=a.data.data)}).catch(a=>{this.loading_states=!1})},async STORE_ADDRESS(s){this.loading_store_address=!0,await e.post(d+"/user-addresses/store",s,{headers:{Authorization:"Bearer "+i("token").value}}).then(a=>{a.data.status_code==200&&(t.success(a.data.message),this.loading_store_address=!1,this.addresses.push(a.data.data.userAddress))}).catch(a=>{this.loading_store_address=!1,t.error(a.response.data.message)})},async GET_ADDRESSESS(){this.loading_get_addressess=!0,await e.get(d+"/user-addresses",{headers:{Authorization:"Bearer "+i("token").value}}).then(s=>{s.data.status_code==200&&(this.loading_get_addressess=!1,console.log(s.data),this.addresses=s.data.data.userAddresses)}).catch(s=>{this.loading_get_addressess=!1})},async DESTORY_ADDRESS(s){this.loading_destory_address=!0,e.delete(d+"/user-addresses/destroy/"+s.id,{headers:{Authorization:"Bearer "+i("token").value}}).then(a=>{if(a.data.status_code==200){t.success(a.data.message),this.loading_destory_address=!1;let o=this.addresses.find(l=>l.id==s.id);this.addresses.splice(o,1)}}).catch(a=>{t.error(a.response.data.message),this.loading_destory_address=!1})}}});export{_ as u};
