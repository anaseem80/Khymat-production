import{B as n,C as e,at as r,D as d,f as i,A as t}from"./entry.Tb-PheA_.js";const _=n({id:"myAddressStore",state:()=>({cities:[],states:[],activeAddress:null,location_id:null,loading_city:null,loading_states:null,loading_store_address:null,loading_update_address:null,loading_destory_address:null,loading_get_addressess:null,addresses:[],latitudes:null,longitude:null}),actions:{async GET_CITIES(){this.loading_city=!0,await e.get(r+"/cities?countryId=60e4482c7cb7d4bc4849c4d5").then(a=>{a.data.success==!0&&(this.loading_city=!1,this.cities=a.data.data.list)}).catch(a=>{this.loading_city=!1})},async GET_STATES(a){this.loading_states=!0,await e.get(r+`/cities/${a}/districts`).then(s=>{s.data.success==!0&&(this.loading_states=!1,this.states=s.data.data)}).catch(s=>{this.loading_states=!1})},async STORE_ADDRESS(a){this.loading_store_address=!0,await e.post(d+"/user-addresses/store",a,{headers:{Authorization:"Bearer "+i("token").value}}).then(s=>{s.data.status_code==200&&(t.success(s.data.message),this.loading_store_address=!1,window.location.reload())}).catch(s=>{this.loading_store_address=!1,t.error(s.response.data.message)})},async UPDATE_ADDRESS(a){this.loading_update_address=!0,await e.put(d+"/user-addresses/update",a,{headers:{Authorization:"Bearer "+i("token").value}}).then(s=>{s.data.status_code==200&&(t.success(s.data.message),this.loading_update_address=!1,window.location.reload())}).catch(s=>{this.loading_update_address=!1,t.error(s.response.data.message)})},async GET_ADDRESSESS(){this.loading_get_addressess=!0,await e.get(d+"/user-addresses",{headers:{Authorization:"Bearer "+i("token").value}}).then(a=>{a.data.status_code==200&&(this.loading_get_addressess=!1,console.log(a.data),this.addresses=a.data.userAddresses)}).catch(a=>{this.loading_get_addressess=!1})},async DESTORY_ADDRESS(a){this.loading_destory_address=!0,e.delete(d+"/user-addresses/destroy/"+a.id,{headers:{Authorization:"Bearer "+i("token").value}}).then(s=>{if(s.data.status_code==200){t.success(s.data.message),this.loading_destory_address=!1;let o=this.addresses.find(l=>l.id==a.id);this.addresses.splice(o,1)}}).catch(s=>{t.error(s.response.data.message),this.loading_destory_address=!1})},async CLOSE_MODAL(){this.activeAddress=null}}});export{_ as u};
