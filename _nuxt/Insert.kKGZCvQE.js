import{a as P,z as T,i as D}from"./entry.7Ep-_jTS.js";import{u as F}from"./Address.NJWmF4qj.js";import{u as G}from"./Countries.GvU4W2n0.js";import{c as N,a as p}from"./index.esm.bn9_v9tR.js";import{a as R,E as B,F as x,Q as g,a4 as h,a7 as C,a3 as e,J as c,U as M,a5 as s,a2 as d,I as O,a6 as q,u as _,a8 as V,R as z}from"./swiper-vue.2KqUgGr4.js";const U={key:0,class:"absolute left-2 lg:right-2"},j=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"close-modal text-gray-600 hover:text-red-600 w-6 h-6 cursor-pointer"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1),J=[j],K={class:"flex lg:flex-row flex-col lg:p-4 gap-8"},Q={class:"lg:grid lg:grid-cols-2 gap-4"},H={class:"form-group"},W={for:"name",class:"text-lg block"},X={class:"invalid-feedback"},Y={class:"form-group"},Z={for:"last_name",class:"text-lg block"},oo={class:"invalid-feedback"},eo={class:"form-group"},to={for:"email",class:"text-lg block"},ao={class:"invalid-feedback"},so={class:"form-group"},no={for:"phone",class:"text-lg block"},lo={class:"invalid-feedback"},io={class:"grid xl:grid-cols-1 lg:col-span-2 gap-4"},ro={class:"form-group"},co={for:"country",class:"text-lg block"},mo={value:"",disabled:""},uo=["value"],po={class:"invalid-feedback"},go=e("div",{id:"map",class:"col-span-2",style:{height:"500px"}},null,-1),_o=["disabled"],fo={class:"translate-y-[-2px]"},ko={__name:"Insert",props:["modal"],setup(S){const{locale:I}=P(),v=S;let b=!1;const w=R(null);b||T(()=>import("https://maps.googleapis.com/maps/api/js?key=AIzaSyDjjZzMmPfqAB8xbfhXhr2yiEaJ8n5EiDg&callback=initMap"),__vite__mapDeps([]),import.meta.url).then(()=>{b=!0,L()}).catch(o=>{console.error("Error importing Google Maps API:",o)});var f,m;function L(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(o){const n=o.coords.latitude,t=o.coords.longitude;var r=new google.maps.LatLng(n,t),l=document.getElementById("map"),a={center:r,zoom:17,mapTypeId:google.maps.MapTypeId.TERRAIN};f=new google.maps.Map(l,a),m=new google.maps.Marker({position:r}),m.setMap(f),y(n,t)}):console.log("Geolocation is not supported by this browser."),google.maps.event.addListenerOnce(f,"click",function(o){E(o.latLng)})}function E(o){m&&m.setMap(null),m=new google.maps.Marker({position:o,map:f});var n=o.lat(),t=o.lng();y(n,t)}function y(o,n){var t=new google.maps.Geocoder,r=new google.maps.LatLng(o,n);t.geocode({location:r},function(l,a){if(a===google.maps.GeocoderStatus.OK)if(l[0]&&l[0].place_id){const u=l[0].place_id;console.log("Location ID:",l[0]),w.value=u}else console.log("Place ID not found for this location.");else console.log("Geocoder failed: ",a)})}const $=N().shape({name:p().required("الاسم الأول مطلوب"),last_name:p().required("الاسم الأخير مطلوب"),email:p().required("البريد الإلكتروني مطلوب").email("البريد الإلكتروني غير صالح"),phone:p().required("رقم الهاتف مطلوب"),country:p().required("الدولة مطلوبة")}),i=F(),k=G();k.GET_COUNTRIES(),B(()=>{const o=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n):alert("Geolocation is not supported by this browser.")},n=t=>{i.latitudes=t.coords.latitude,i.longitude=t.coords.longitude};o()});const A=async o=>{o.latitudes=i.latitudes.toString(),o.longitude=i.longitude.toString(),o.location_id=w.value,i.STORE_ADDRESS(o),console.log(o)};return(o,n)=>{const t=x("Field"),r=D,l=x("Form");return g(),h("div",{class:d(["rounded-lg",{"bg-white p-3 w-full lg:w-8/12 m-auto relative":v.modal}])},[v.modal?(g(),h("span",U,J)):C("",!0),e("div",K,[c(l,{class:"w-full",onSubmit:A,"validation-schema":_($)},{default:M(({errors:a})=>[e("div",Q,[e("div",H,[e("label",W,s(o.$t("First name")),1),c(t,{type:"text",id:"name",name:"name",class:d(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.name}])},null,8,["class"]),e("div",X,s(a.name),1)]),e("div",Y,[e("label",Z,s(o.$t("Last Name")),1),c(t,{type:"text",id:"last_name",name:"last_name",class:d(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.last_name}])},null,8,["class"]),e("div",oo,s(a.last_name),1)]),e("div",eo,[e("label",to,s(o.$t("Email")),1),c(t,{type:"email",id:"email",name:"email",class:d(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.email}])},null,8,["class"]),e("div",ao,s(a.email),1)]),e("div",so,[e("label",no,s(o.$t("Phone")),1),c(t,{type:"tel",id:"phone",name:"phone",class:d(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.phone}])},null,8,["class"]),e("div",lo,s(a.phone),1)]),e("div",io,[e("div",ro,[e("label",co,s(o.$t("Country")),1),c(t,{as:"select",id:"country",name:"country",class:d(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.country}])},{default:M(()=>[e("option",mo,s(o.$t("Choose Country")),1),(g(!0),h(O,null,q(_(k).countries,u=>(g(),h("option",{value:u.name},s(_(I)=="en"?u.name_en:u.name),9,uo))),256))]),_:2},1032,["class"]),e("div",po,s(a.country),1)])]),go]),e("button",{disabled:_(i).loading_store_address,class:"btn mt-6 w-full"},[e("span",fo,[V(s(o.$t("Save Changes"))+" ",1),_(i).loading_store_address?(g(),z(r,{key:0,class:"text-white drop-shadow-lg mr-3"})):C("",!0)])],8,_o)]),_:1},8,["validation-schema"])])],2)}}};export{ko as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
