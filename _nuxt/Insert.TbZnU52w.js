import{a as B,A as D,B as F,i as G}from"./entry.CCc8V8PH.js";import{u as N}from"./Address.PCTrc5U2.js";import{u as P}from"./Countries.mb737nbm.js";import{c as R,a as m}from"./index.esm.9KAz0nFa.js";import{a as q,E as O,F as k,Q as p,a4 as h,a7 as x,a3 as o,J as r,U as C,a5 as s,a2 as c,I as V,a6 as z,u as _,a8 as U,R as j}from"./swiper-vue.pW2UkmIU.js";const J={key:0,class:"absolute left-2 md:right-2"},K=o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"close-modal text-gray-600 hover:text-red-600 w-6 h-6 cursor-pointer"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1),Q=[K],H={class:"flex md:flex-row flex-col md:p-4 gap-8"},W={class:"md:grid md:grid-cols-2 gap-4"},X={class:"form-group"},Y={for:"name",class:"text-lg block"},Z={class:"invalid-feedback"},ee={class:"form-group"},oe={for:"last_name",class:"text-lg block"},ae={class:"invalid-feedback"},se={class:"form-group"},te={for:"email",class:"text-lg block"},ne={class:"invalid-feedback"},le={class:"form-group"},ie={for:"phone",class:"text-lg block"},de={class:"invalid-feedback"},re={class:"grid xl:grid-cols-1 md:col-span-2 gap-4"},ce={class:"form-group"},me={for:"country",class:"text-lg block"},ue={value:"",disabled:""},pe=["value"],_e={class:"invalid-feedback"},ge={class:"grid xl:grid-cols-1 md:col-span-2 gap-4"},he={for:"address_2",class:"text-lg block"},fe={class:"invalid-feedback"},ve=o("div",{id:"map",class:"col-span-2",style:{height:"500px"}},null,-1),be=["disabled"],we={class:"translate-y-[-2px]"},Me={__name:"Insert",props:["modal"],setup(S){const{locale:M}=B(),v=S,b=q(null);let w=!1;var f,g=[];w||D(()=>import("https://maps.googleapis.com/maps/api/js?key=AIzaSyDjjZzMmPfqAB8xbfhXhr2yiEaJ8n5EiDg&callback=initMap"),__vite__mapDeps([]),import.meta.url).then(()=>{w=!0,I()}).catch(e=>{console.error("Error importing Google Maps API:",e),alert("Geolocation is not supported by this browser.")});function I(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){const n=e.coords.latitude,t=e.coords.longitude;var i=new google.maps.LatLng(n,t),u=document.getElementById("map"),a={center:i,zoom:17,mapTypeId:google.maps.MapTypeId.TERRAIN};f=new google.maps.Map(u,a),google.maps.event.addListener(f,"click",function(d){L(d.latLng)})}):alert("Geolocation is not supported by this browser.")}function L(e){g.length>0&&(g[0].setMap(null),g.pop());const n=new google.maps.Marker({position:e,map:f});g.push(n);var t=e.lat(),i=e.lng();E(t,i)}function E(e,n,t){var i=new google.maps.Geocoder,u=new google.maps.LatLng(e,n);i.geocode({location:u},function(a,d){if(d===google.maps.GeocoderStatus.OK&&a[0]&&a[0].place_id){const T=a[0].place_id;b.value=T,F.warn(a[0].formatted_address)}})}const $=R().shape({name:m().required("الاسم الأول مطلوب"),last_name:m().required("الاسم الأخير مطلوب"),email:m().required("البريد الإلكتروني مطلوب").email("البريد الإلكتروني غير صالح"),phone:m().required("رقم الهاتف مطلوب"),country:m().required("الدولة مطلوبة"),address_2:m().required("العنوان بالتفصيل مطلوب")}),l=N(),y=P();y.GET_COUNTRIES(),O(()=>{const e=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(n):alert("Geolocation is not supported by this browser.")},n=t=>{l.latitudes=t.coords.latitude,l.longitude=t.coords.longitude};e()});const A=async e=>{e.latitudes=l.latitudes.toString(),e.longitude=l.longitude.toString(),e.location_id=b.value,l.STORE_ADDRESS(e)};return(e,n)=>{const t=k("Field"),i=G,u=k("Form");return p(),h("div",{class:c(["rounded-lg",{"bg-white p-3 w-full md:w-8/12 m-auto relative":v.modal}])},[v.modal?(p(),h("span",J,Q)):x("",!0),o("div",H,[r(u,{class:"w-full",onSubmit:A,"validation-schema":_($)},{default:C(({errors:a})=>[o("div",W,[o("div",X,[o("label",Y,s(e.$t("First name")),1),r(t,{type:"text",id:"name",name:"name",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.name}])},null,8,["class"]),o("div",Z,s(a.name),1)]),o("div",ee,[o("label",oe,s(e.$t("Last Name")),1),r(t,{type:"text",id:"last_name",name:"last_name",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.last_name}])},null,8,["class"]),o("div",ae,s(a.last_name),1)]),o("div",se,[o("label",te,s(e.$t("Email")),1),r(t,{type:"email",id:"email",name:"email",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.email}])},null,8,["class"]),o("div",ne,s(a.email),1)]),o("div",le,[o("label",ie,s(e.$t("Phone")),1),r(t,{type:"tel",id:"phone",name:"phone",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.phone}])},null,8,["class"]),o("div",de,s(a.phone),1)]),o("div",re,[o("div",ce,[o("label",me,s(e.$t("Country")),1),r(t,{as:"select",id:"country",name:"country",class:c(["rounded border p-3 outline-none w-full mt-4 focus:border-primary",{"is-invalid":a.country}])},{default:C(()=>[o("option",ue,s(e.$t("Choose Country")),1),(p(!0),h(V,null,z(_(y).countries,d=>(p(),h("option",{value:d.name},s(_(M)=="en"?d.name_en:d.name),9,pe))),256))]),_:2},1032,["class"]),o("div",_e,s(a.country),1)])]),o("div",ge,[o("label",he,s(e.$t("Detailed address")),1),r(t,{as:"textarea",id:"address_2",name:"address_2",class:c(["w-full p-4 pb-[92px] rounded border outline-none focus:border-primary",{"is-invalid":a.address_2}]),placeholder:e.$t("Detailed address")},null,8,["placeholder","class"]),o("div",fe,s(a.address_2),1)]),ve]),o("button",{disabled:_(l).loading_store_address,class:"btn mt-6 w-full"},[o("span",we,[U(s(e.$t("Save Changes"))+" ",1),_(l).loading_store_address?(p(),j(i,{key:0,class:"text-white drop-shadow-lg mr-3"})):x("",!0)])],8,be)]),_:1},8,["validation-schema"])])],2)}}};export{Me as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
